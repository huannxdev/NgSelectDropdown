<div [ngClass]="{ disable: isDisabled }">
    <span class="title">{{ title }}</span>
    <div class="select2" #dropreference>
        <div class="list-item" (click)="!isDisabled ? showDropdown() : false">
            <div class="tag-editor" #tagBlock>
                <span [ngClass]="{ single: !multiple }" class="elements flex">
                    <ng-container *ngIf="multiple">
                        <div *ngFor="let item of displayData" #tag>
                            <span class="tag-editor-tag">{{ item.label }}</span>
                            <div class="tag-editor-delete" (click)="!isDisabled ? removeItem(item.value) : false">
                                <span class="material-icons">
                                    close
                                </span>
                            </div>
                        </div>
                        <div *ngIf="displayData?.length === 0" class="single-tag placeHolder-text">
                            {{ placeHolder }}
                        </div>
                    </ng-container>

                    <div *ngIf="!multiple" class="single-tag" [ngClass]="{ 'placeHolder-text': !displayData }">
                        {{ displayData ? displayData : placeHolder }}
                    </div>
                </span>
                <span *ngIf="hideElements > 0" class="more-text" #moreElement>...</span>
            </div>
            <div class="more-content" *ngIf="hideElements > 0">
                <span>{{ hideElements }}</span>
            </div>
            <div></div>
            <div class="action">
                <span class="material-icons">
                    expand_more
                </span>
            </div>
        </div>
        <lib-custom-dropdown [reference]="dropreference" #dropdownComp>
            <div class="dropdown-options-container">
                <ng-container *ngIf="multiple">
                    <div class="scroll-container" [ngClass]="{group: group}">
                        <ng-container *ngFor="let option of options">
                            <ng-container
                                *ngTemplateOutlet="group ? groupMultipleSelect : multileSelect; context: {$implicit: option}">
                            </ng-container>
                        </ng-container>
                    </div>
                </ng-container>
                <ng-container *ngIf="!multiple">
                    <lib-single-select-container [options]="options" [activedItemValue]="dataSingle" [group]="group"
                        (selectItemEmitter)="selectSingle($event)"
                        (removeItemEmitter)="handleRemoveElementOption($event)"></lib-single-select-container>
                </ng-container>
            </div>
        </lib-custom-dropdown>
    </div>
</div>

<ng-template #multileSelect let-option>
    <lib-multi-select-option [value]="option.value" [label]="option.label">
    </lib-multi-select-option>
</ng-template>

<ng-template #groupMultipleSelect let-option>
    <span class="group-title">{{option.label}}</span>
    <div class="group-element">
        <lib-multi-select-option *ngFor="let item of option.items" [value]="item.value" [label]="item.label">
        </lib-multi-select-option>
    </div>
</ng-template>